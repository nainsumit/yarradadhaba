"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function p(e,t){return l(new(l(function(){},{prototype:e})),t)}function h(e){return u(arguments,function(t){t!==e&&u(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function d(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function v(e){if(Object.keys)return Object.keys(e);var t=[];return u(e,function(e,n){t.push(n)}),t}function $(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function m(e,t,n,r){var a,i=d(n,r),o={},s=[];for(var u in i)if(i[u]&&i[u].params&&(a=v(i[u].params),a.length))for(var f in a)$(s,a[f])>=0||(s.push(a[f]),o[a[f]]=e[a[f]]);return l({},o,t)}function g(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var a=n[i];if(e[a]!=t[a])return!1}return!0}function y(e,t){var n={};return u(e,function(e){n[e]=t[e]}),n}function b(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return u(n,function(n){n in e&&(t[n]=e[n])}),t}function x(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==$(n,r)&&(t[r]=e[r]);return t}function C(e,t){var n=s(e),r=n?[]:{};return u(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function E(e,t){var n=s(e)?[]:{};return u(e,function(e,r){n[r]=t(e,r)}),n}function k(e,t){var i=1,s=2,f={},c=[],p=f,d=l(e.when(f),{$$promises:f,$$values:f});this.study=function(f){function b(e,n){if(w[n]!==s){if(y.push(n),w[n]===i)throw y.splice(0,$(y,n)),new Error("Cyclic dependency: "+y.join(" -> "));if(w[n]=i,a(e))g.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);u(r,function(e){e!==n&&f.hasOwnProperty(e)&&b(f[e],e)}),g.push(n,e,r)}y.pop(),w[n]=s}}function S(e){return o(e)&&e.then&&e.$$promises}if(!o(f))throw new Error("'invocables' must be an object");var m=v(f||{}),g=[],y=[],w={};return u(f,b),f=y=w=null,function(i,a,s){function b(){--y||(w||h($,a.$$values),c.$$values=$,c.$$promises=c.$$promises||!0,delete c.$$inheritedValues,f.resolve($))}function C(e){c.$$failure=e,f.reject(e)}function A(n,a,o){function p(e){l.reject(e),C(e)}function h(){if(!r(c.$$failure))try{l.resolve(t.invoke(a,s,$)),l.promise.then(function(e){$[n]=e,b()},p)}catch(e){p(e)}}var l=e.defer(),f=0;u(o,function(e){v.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(f++,v[e].then(function(t){$[e]=t,--f||h()},p))}),f||h(),v[n]=l.promise}if(S(i)&&s===n&&(s=a,a=i,i=null),i){if(!o(i))throw new Error("'locals' must be an object")}else i=p;if(a){if(!S(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=d;var f=e.defer(),c=f.promise,v=c.$$promises={},$=l({},i),y=1+g.length/3,w=!1;if(r(a.$$failure))return C(a.$$failure),c;a.$$inheritedValues&&h($,x(a.$$inheritedValues,m)),l(v,a.$$promises),a.$$values?(w=h($,x(a.$$values,m)),c.$$inheritedValues=x(a.$$values,m),b()):(a.$$inheritedValues&&(c.$$inheritedValues=x(a.$$inheritedValues,m)),a.then(b,C));for(var E=0,k=g.length;k>E;E+=3)i.hasOwnProperty(g[E])?b():A(g[E],g[E+1],g[E+2]);return c}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function A(e,t,n){this.fromConfig=function(e,t,n){return r(e.template)?this.fromString(e.template,t):r(e.templateUrl)?this.fromUrl(e.templateUrl,t):r(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return i(e)?e(t):e},this.fromUrl=function(n,r){return i(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function O(e,t,r){function $(t,n,r,i){if(v.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(d[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return d[t]=new I.Param(t,n,r,i),d[t]}function m(e,t,n,r){var i=["",""],a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:a=a.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return a+i[0]+t+i[1]}function g(r,i){var a,o,s,l,f;return a=r[2]||r[3],f=t.params[a],s=e.substring(u,r.index),o=i?r[4]:r[4]||("*"==r[1]?".*":null),o&&(l=I.type(o)||p(I.type("string"),{pattern:new RegExp(o,t.caseInsensitive?"i":n)})),{id:a,regexp:o,segment:s,type:l,cfg:f}}t=l({params:{}},o(t)?t:{});var f,i=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,a=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,s="^",u=0,c=this.segments=[],h=r?r.params:{},d=this.params=r?r.params.$$new():new I.ParamSet,v=[];this.source=e;for(var y,w,b;(f=i.exec(e))&&(y=g(f,!1),!(y.segment.indexOf("?")>=0));)w=$(y.id,y.type,y.cfg,"path"),s+=m(y.segment,w.type.pattern.source,w.squash,w.isOptional),c.push(y.segment),u=i.lastIndex;b=e.substring(u);var x=b.indexOf("?");if(x>=0){var S=this.sourceSearch=b.substring(x);if(b=b.substring(0,x),this.sourcePath=e.substring(0,u+x),S.length>0)for(u=0;f=a.exec(S);)y=g(f,!0),w=$(y.id,y.type,y.cfg,"search"),u=i.lastIndex}else this.sourcePath=e,this.sourceSearch="";s+=m(b)+(t.strict===!1?"/?":"")+"$",c.push(b),this.regexp=new RegExp(s,t.caseInsensitive?"i":n),this.prefix=c[0],this.$$paramNames=v}function T(e){l(this,e)}function M(){function h(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function d(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function x(){return{strict:f,caseInsensitive:e}}function S(e){return i(e)||s(e)&&i(e[e.length-1])}function k(){for(;y.length;){var e=y.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(m[e.name],w.invoke(e.def))}}function A(e){l(this,e||{})}I=this;var w,e=!1,f=!0,c=!1,m={},g=!0,y=[],b={string:{encode:h,decode:d,is:function(e){return null==e||!r(e)||"string"==typeof e},pattern:/[^/]*/},"int":{encode:h,decode:function(e){return parseInt(e,10)},is:function(e){return r(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};M.$$getDefaultValue=function(e){if(!S(e.value))return e.value;if(!w)throw new Error("Injectable functions cannot be called at configuration time");return w.invoke(e.value)},this.caseInsensitive=function(t){return r(t)&&(e=t),e},this.strictMode=function(e){return r(e)&&(f=e),f},this.defaultSquashPolicy=function(e){if(!r(e))return c;if(e!==!0&&e!==!1&&!a(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return c=e,e},this.compile=function(e,t){return new O(e,l(x(),t))},this.isMatcher=function(e){if(!o(e))return!1;var t=!0;return u(O.prototype,function(n,a){i(n)&&(t=t&&r(e[a])&&i(e[a]))}),t},this.type=function(e,t,n){if(!r(t))return m[e];if(m.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return m[e]=new T(l({name:e},t)),n&&(y.push({name:e,def:n}),g||k()),this},u(b,function(e,t){m[t]=new T(l({name:t},e))}),m=p(m,{}),this.$get=["$injector",function(e){return w=e,g=!1,k(),u(b,function(e,t){m[t]||(m[t]=new T(e))}),this}],this.Param=function(e,i,u,f){function b(e){var t=o(e)?v(e):[],n=-1===$(t,"value")&&-1===$(t,"type")&&-1===$(t,"squash")&&-1===$(t,"array");return n&&(e={value:e}),e.$$fn=S(e.value)?e.value:function(){return e.value},e}function x(n,r,i){if(n.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:n.type?t.isString(n.type)?m[n.type]:n.type instanceof T?n.type:new T(n.type):"config"===i?m.any:m.string}function k(){var t={array:"search"===f?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return l(t,n,u).array}function A(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!r(n)||null==n)return c;if(n===!0||a(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function I(e,t,r,i){var o,u,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=s(e.replace)?e.replace:[],a(i)&&o.push({from:i,to:n}),u=E(o,function(e){return e.from}),C(l,function(e){return-1===$(u,e.from)}).concat(o)}function O(){if(!w)throw new Error("Injectable functions cannot be called at configuration time");var e=w.invoke(u.$$fn);if(null!==e&&e!==n&&!p.type.is(e))throw new Error("Default value ("+e+") for parameter '"+p.id+"' is not an instance of Type ("+p.type.name+")");return e}function M(e){function t(e){return function(t){return t.from===e}}function n(e){var n=E(C(p.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),r(e)?p.type.$normalize(e):O()}function N(){return"{Param:"+e+" "+i+" squash: '"+g+"' optional: "+d+"}"}var p=this;u=b(u),i=x(u,i,f);var h=k();i=h?i.$asArray(h,"search"===f):i,"string"!==i.name||h||"path"!==f||u.value!==n||(u.value="");var d=u.value!==n,g=A(u,d),y=I(u,h,d,g);l(this,{id:e,type:i,location:f,array:h,squash:g,replace:y,isOptional:d,value:M,dynamic:n,config:u,toString:N})},A.prototype={$$new:function(){return p(this,l(new A,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=v(A.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),u(t,function(t){u(v(t),function(t){-1===$(e,t)&&-1===$(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return u(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return u(r.$$keys(),function(i){var a=e&&e[i],o=t&&t[i];r[i].type.equals(a,o)||(n=!1)}),n},$$validates:function(e){var i,a,o,s,u,r=this.$$keys();for(i=0;i<r.length&&(a=this[r[i]],o=e[r[i]],o!==n&&null!==o||!a.isOptional);i++){if(s=a.type.$normalize(o),!a.type.is(s))return!1;if(u=a.type.encode(s),t.isString(u)&&!a.type.pattern.exec(u))return!1}return!0},$$parent:n},this.ParamSet=A}function N(e,o){function h(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function d(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function v(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return r(i)?i:!0}function $(r,i,o,s,l){function $(e,t,n){return"/"===h?e:t?h.slice(0,-1)+e:n?h.slice(1)+e:e}function m(e){function i(e){var t=e(o,r);return t?(a(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){v&&r.url()===v;v=n;var l,s=u.length;for(l=0;s>l;l++)if(i(u[l]))return;f&&i(f)}}function g(){return p=p||i.$on("$locationChangeSuccess",m)}var v,h=s.baseHref(),d=r.url();return c||g(),{sync:function(){m()},listen:function(){return g()},update:function(e){return e?void(d=r.url()):void(r.url()!==d&&(r.url(d),r.replace()))},push:function(e,t,i){var a=e.format(t||{});null!==a&&t&&t["#"]&&(a+="#"+t["#"]),r.url(a),v=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,a){if(!n.validates(i))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled),o=o&&l.history;var s=n.format(i);if(a=a||{},o||null===s||(s="#"+e.hashPrefix()+s),null!==s&&i&&i["#"]&&(s+="#"+i["#"]),s=$(s,o,a.absolute),!a.absolute||!s)return s;var u=!o&&s?"/":"",f=r.port();return f=80===f||443===f?"":":"+f,[r.protocol(),"://",r.host(),f,u,s].join("")}}}var p,u=[],f=null,c=!1;this.rule=function(e){if(!i(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(a(e)){var t=e;e=function(){return t}}else if(!i(e))throw new Error("'rule' must be a function");return f=e,this},this.when=function(e,t){var n,r=a(t);if(a(e)&&(e=o.compile(e)),!r&&!i(t)&&!s(t))throw new Error("invalid 'handler' in when()");var u={matcher:function(e,t){return r&&(n=o.compile(t),t=["$match",function(e){return n.format(e)}]),l(function(n,r){return v(n,t,e.exec(r.path(),r.search()))},{prefix:a(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(n=t,t=["$match",function(e){return d(n,e)}]),l(function(n,r){return v(n,t,e.exec(r.path()))},{prefix:h(e)})}},f={matcher:o.isMatcher(e),regex:e instanceof RegExp};for(var c in f)if(f[c])return this.rule(u[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),c=e},this.$get=$,$.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function P(e,c){function k(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function A(e,t){if(!e)return n;var r=a(e),i=r?e:e.name,o=k(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");t=A(t);for(var s=i.split("."),u=0,l=s.length,f=t;l>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!f.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");f=f.parent}else f=t;s=s.slice(u).join("."),i=f.name+(f.name&&s?".":"")+s}var c=d[i];return!c||!r&&(r||c!==e&&c.self!==e)?n:c}function O(e,t){x[e]||(x[e]=[]),x[e].push(t)}function T(e){for(var t=x[e]||[];t.length;)M(t.shift())}function M(t){t=p(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!a(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(d.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):a(t.parent)?t.parent:o(t.parent)&&a(t.parent.name)?t.parent.name:"";if(r&&!d[r])return O(r,t.self);for(var s in C)i(C[s])&&(t[s]=C[s](t,C.$delegates[s]));return d[n]=t,!t[S]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){w.$current.navigable==t&&g(e,n)||w.transitionTo(t,e,{inherit:!0,location:!1})}]),T(n),t}function N(e){return e.indexOf("*")>-1}function P(e){for(var t=e.split("."),n=w.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice($(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice($(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function j(e,t){return a(e)&&!r(t)?C[e]:i(t)&&a(e)?(C[e]&&!C.$delegates[e]&&(C.$delegates[e]=C[e]),C[e]=t,this):this}function V(e,t){return o(e)?t=e:t.name=e,M(t),this}function D(e,c,$,b,x,C,k,I,O){function D(t,n,r,i){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return k.update(),j;if(!a.retry)return null;if(i.$retry)return k.update(),V;var o=w.transition=c.when(a.retry);return o.then(function(){return o!==w.transition?T:(t.options.$retry=!0,w.transitionTo(t.to,t.toParams,t.options))},function(){return j}),k.update(),o}function R(e,n,r,a,o,l){function d(){var n=[];return u(e.views,function(r,a){var u=r.resolve&&r.resolve!==e.resolve?r.resolve:{};u.$template=[function(){return $.load(a,{view:r,locals:o.globals,params:f,notify:l.notify})||""}],n.push(x.resolve(u,o.globals,o.resolve,e).then(function(n){if(i(r.controllerProvider)||s(r.controllerProvider)){var l=t.extend({},u,o.globals);n.$$controller=b.invoke(r.controllerProvider,null,l)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,o[a]=n}))}),c.all(n).then(function(){return o.globals})}var f=r?n:y(e.params.$$keys(),n),p={$stateParams:f};o.resolve=x.resolve(e.resolve,p,o.resolve,e);var h=[o.resolve.then(function(e){o.globals=e})];return a&&h.push(a),c.all(h).then(d).then(function(e){return o})}var T=c.reject(new Error("transition superseded")),M=c.reject(new Error("transition prevented")),j=c.reject(new Error("transition aborted")),V=c.reject(new Error("transition failed"));return h.locals={resolve:null,globals:{$stateParams:{}}},w={params:{},current:h.self,$current:h,transition:null},w.reload=function(e){return w.transitionTo(w.current,C,{reload:e||!0,inherit:!1,notify:!0})},w.go=function(e,t,n){return w.transitionTo(e,t,l({inherit:!0,relative:w.$current},n))},w.transitionTo=function(t,n,i){n=n||{},i=l({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var v,s=w.$current,u=w.params,d=s.path,$=A(t,i.relative),g=n["#"];if(!r($)){var x={to:t,toParams:n,options:i},E=D(x,s.self,u,i);if(E)return E;if(t=x.to,n=x.toParams,i=x.options,$=A(t,i.relative),!r($)){if(!i.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+i.relative+"'")}}if($[S])throw new Error("Cannot transition to abstract state '"+t+"'");if(i.inherit&&(n=m(C,n||{},w.$current,$)),!$.params.$$validates(n))return V;n=$.params.$$values(n),t=$;var I=t.path,O=0,N=I[O],P=h.locals,j=[];if(i.reload){if(a(i.reload)||o(i.reload)){if(o(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var q=i.reload===!0?d[0]:A(i.reload);if(i.reload&&!q)throw new Error("No such reload state '"+(a(i.reload)?i.reload:i.reload.name)+"'");for(;N&&N===d[O]&&N!==q;)P=j[O]=N.locals,O++,N=I[O]}}else for(;N&&N===d[O]&&N.ownParams.$$equals(n,u);)P=j[O]=N.locals,O++,N=I[O];if(_(t,n,s,u,P,i))return g&&(n["#"]=g),w.params=n,f(w.params,C),f(y(t.params.$$keys(),C),t.locals.globals.$stateParams),i.location&&t.navigable&&t.navigable.url&&(k.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===i.location}),k.update(!0)),w.transition=null,c.when(w.current);if(n=y(t.params.$$keys(),n||{}),g&&(n["#"]=g),i.notify&&e.$broadcast("$stateChangeStart",t.self,n,s.self,u,i).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,s.self,u),null==w.transition&&k.update(),M;for(var F=c.when(P),U=O;U<I.length;U++,N=I[U])P=j[U]=p(P),F=R(N,n,N===t,F,P,i);var H=w.transition=F.then(function(){var r,a,o;if(w.transition!==H)return T;for(r=d.length-1;r>=O;r--)o=d[r],o.self.onExit&&b.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=O;r<I.length;r++)a=I[r],a.locals=j[r],a.self.onEnter&&b.invoke(a.self.onEnter,a.self,a.locals.globals);return w.transition!==H?T:(w.$current=t,w.current=t.self,w.params=n,f(w.params,C),w.transition=null,i.location&&t.navigable&&k.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,s.self,u),k.update(!0),w.current)},function(r){return w.transition!==H?T:(w.transition=null,v=e.$broadcast("$stateChangeError",t.self,n,s.self,u,r),v.defaultPrevented||k.update(),c.reject(r))});return H},w.is=function(e,t,i){i=l({relative:w.$current},i||{});var a=A(e,i.relative);return r(a)?w.$current!==a?!1:t?g(a.params.$$values(t),C):!0:n},w.includes=function(e,t,i){if(i=l({relative:w.$current},i||{}),a(e)&&N(e)){if(!P(e))return!1;e=w.$current.name}var o=A(e,i.relative);return r(o)?r(w.$current.includes[o.name])?t?g(o.params.$$values(t),C,v(t)):!0:!1:n},w.href=function(e,t,i){i=l({lossy:!0,inherit:!0,absolute:!1,relative:w.$current},i||{});var a=A(e,i.relative);if(!r(a))return null;i.inherit&&(t=m(C,t||{},w.$current,a));var o=a&&i.lossy?a.navigable:a;return o&&o.url!==n&&null!==o.url?k.href(o.url,y(a.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},w.get=function(e,t){if(0===arguments.length)return E(v(d),function(e){return d[e].self});var n=A(e,t||w.$current);return n&&n.self?n.self:null},w}function _(e,t,n,r,i,a){function o(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),a=b.apply({},[e.params].concat(i)),o=new I.ParamSet(a);return o.$$equals(t,n)}return!a.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&o(n,r,t))?!0:void 0}var h,w,d={},x={},S="abstract",C={parent:function(e){if(r(e.parent)&&e.parent)return A(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?A(t[1]):h},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=p(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(a(t))return"^"==t.charAt(0)?c.compile(t.substring(1),n):(e.parent.navigable||h).url.concat(t,n);if(!t||c.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new I.ParamSet;return u(e.params||{},function(e,n){t[n]||(t[n]=new I.Param(n,null,e,"config"))}),t},params:function(e){var t=b(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?l(e.parent.params.$$new(),t):new I.ParamSet},views:function(e){var t={};return u(r(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?l({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};h=M({name:"",url:"^",views:null,"abstract":!0}),h.navigable=null,this.decorator=j,this.state=V,this.$get=D,D.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function j(){function e(e,t){return{load:function(e,n){var r,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=l(i,n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function V(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function R(e,n,r,i){function a(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function l(e,n){function i(e){return 1===D&&_>=4?!!u.enabled(e):1===D&&_>=2?!!u.enabled():!!s}var r={enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}};if(e.noanimation)return r;if(u)return{enter:function(e,n,a){i(e)?t.version.minor>2?u.enter(e,null,n).then(a):u.enter(e,null,n,a):r.enter(e,n,a)},leave:function(e,n){i(e)?t.version.minor>2?u.leave(e).then(n):u.leave(e,n):r.leave(e,n)}};if(s){var a=s&&s(n,e);return{enter:function(e,t,n){a.enter(e,null,t),n()},leave:function(e,t){a.leave(e),t()}}}return r}var o=a(),s=o("$animator"),u=o("$animate"),f={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,o){return function(n,a,s){function $(){function n(){e&&e.remove(),t&&t.$destroy()}var e=u,t=c;t&&(t._willBeDestroyed=!0),f?(v.leave(f,function(){n(),u=null}),u=f):(n(),u=null),f=null,c=null}function m(u){var l,m=F(n,s,a,i),g=m&&e.$current&&e.$current.locals[m];if((u||g!==p)&&!n._willBeDestroyed){l=n.$new(),p=e.$current.locals[m],l.$emit("$viewContentLoading",m);var y=o(l,function(e){v.enter(e,a,function(){c&&c.$emit("$viewContentAnimationEnded"),(t.isDefined(d)&&!d||n.$eval(d))&&r(e)}),$()});f=y,c=l,c.$emit("$viewContentLoaded",m),c.$eval(h)}}var u,f,c,p,h=s.onload||"",d=s.autoscroll,v=l(s,n);n.$on("$stateChangeSuccess",function(){m(!1)}),m(!0)}}};return f}function q(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return function(i,o,s){var u=n.$current,l=F(i,s,o,r),f=u&&u.locals[l];if(f){o.data("$uiView",{name:l,state:f.$$state}),o.html(f.$template?f.$template:a);var c=e(o.contents());if(f.$$controller){f.$scope=i,f.$element=o;var p=t(f.$$controller,f);f.$$controllerAs&&(i[f.$$controllerAs]=p),o.data("$ngControllerController",p),o.children().data("$ngControllerController",p)}c(i)}}}}}function F(e,t,n,r){var i=r(t.uiView||t.name||"")(e),a=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(a?a.state.name:"")}function U(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function H(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function L(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function B(e,t,n,r,i){return function(a){var o=a.which||a.button,s=i();if(!(o>1||a.ctrlKey||a.metaKey||a.shiftKey||e.attr("target"))){var u=n(function(){t.go(s.state,s.params,s.options)});a.preventDefault();var l=r.isAnchor&&!s.href?1:0;a.preventDefault=function(){l--<=0&&n.cancel(u)}}}}function z(e,t){return{relative:H(e)||t.$current,inherit:!0}}function W(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,a,o){var s=U(a.uiSref,e.current.name),u={state:s.state,href:null,params:null},f=L(i),c=o[1]||o[0];u.options=l(z(i,e),a.uiSrefOpts?r.$eval(a.uiSrefOpts):{});var p=function(n){n&&(u.params=t.copy(n)),u.href=e.href(s.state,u.params,u.options),c&&c.$$addStateInfo(s.state,u.params),null!==u.href&&a.$set(f.attr,u.href)};s.paramExpr&&(r.$watch(s.paramExpr,function(e){e!==u.params&&p(e)},!0),u.params=t.copy(r.$eval(s.paramExpr))),p(),f.clickable&&i.bind("click",B(i,e,n,f,function(){return u}))}}}function G(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,a){function c(t){f.state=t[0],f.params=t[1],f.options=t[2],f.href=e.href(f.state,f.params,f.options),s&&s.$$addStateInfo(f.state,f.params),f.href&&i.$set(o.attr,f.href)}var o=L(r),s=a[1]||a[0],u=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],l="["+u.map(function(e){return e||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null};n.$watch(l,c,!0),c(n.$eval(l)),o.clickable&&r.bind("click",B(r,e,t,o,function(){return f}))}}}function X(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,i,s){function v(t,n,i){var a=e.get(t,H(r)),o=$(t,n);l.push({state:a||{name:t},params:n,hash:o}),f[o]=i}function $(e,n){if(!a(e))throw new Error("state should be a string");return o(n)?e+c(n):(n=t.$eval(n),o(n)?e+c(n):e)}function m(){for(var e=0;e<l.length;e++)w(l[e].state,l[e].params)?g(r,f[l[e].hash]):y(r,f[l[e].hash]),b(l[e].state,l[e].params)?g(r,p):y(r,p)}function g(e,t){s(function(){e.addClass(t)})}function y(e,t){e.removeClass(t)}function w(t,n){return e.includes(t.name,n)}function b(t,n){return e.is(t.name,n)}var p,h,l=[],f={};p=n(i.uiSrefActiveEq||"",!1)(t);try{h=t.$eval(i.uiSrefActive)}catch(d){}h=h||n(i.uiSrefActive||"",!1)(t),o(h)&&u(h,function(n,r){if(a(n)){var i=U(n,e.current.name);v(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){o(h)&&l.length>0||(v(e,t,h),m())},t.$on("$stateChangeSuccess",m),m()}]}}function Y(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function J(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}var r=t.isDefined,i=t.isFunction,a=t.isString,o=t.isObject,s=t.isArray,u=t.forEach,l=t.extend,f=t.copy,c=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),k.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",k),A.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",A);var I;O.prototype.concat=function(e,t){var n={caseInsensitive:I.caseInsensitive(),strict:I.strictMode(),squash:I.defaultSquashPolicy()};return new O(this.sourcePath+e+this.sourceSearch,l(n,t),this)},O.prototype.toString=function(){return this.source},O.prototype.exec=function(e,t){function p(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=E(r,t);return E(i,n).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var u,l,c,i=this.parameters(),a=i.length,o=this.segments.length-1,s={};if(o!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var h,d;for(u=0;o>u;u++){for(c=i[u],h=this.params[c],d=n[u+1],l=0;l<h.replace.length;l++)h.replace[l].from===d&&(d=h.replace[l].to);d&&h.array===!0&&(d=p(d)),r(d)&&(d=h.type.decode(d)),s[c]=h.value(d)}for(;a>u;u++){for(c=i[u],s[c]=this.params[c].value(t[c]),h=this.params[c],d=t[c],l=0;l<h.replace.length;l++)h.replace[l].from===d&&(d=h.replace[l].to);r(d)&&(d=h.type.decode(d)),s[c]=h.value(d)}return s},O.prototype.parameters=function(e){return r(e)?this.params[e]||null:this.$$paramNames},O.prototype.validates=function(e){return this.params.$$validates(e)},O.prototype.format=function(e){function c(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var t=this.segments,n=this.parameters(),r=this.params;if(!this.validates(e))return null;var i,o=!1,u=t.length-1,l=n.length,f=t[0];for(i=0;l>i;i++){var p=u>i,h=n[i],d=r[h],v=d.value(e[h]),$=d.isOptional&&d.type.equals(d.value(),v),m=$?d.squash:!1,g=d.type.encode(v);if(p){var y=t[i+1],w=i+1===u;if(m===!1)null!=g&&(f+=s(g)?E(g,c).join("-"):encodeURIComponent(g)),f+=y;else if(m===!0){var b=f.match(/\/$/)?/\/?(.*)/:/(.*)/;f+=y.match(b)[1]}else a(m)&&(f+=m+y);w&&d.squash===!0&&"/"===f.slice(-1)&&(f=f.slice(0,-1))}else{if(null==g||$&&m!==!1)continue;if(s(g)||(g=[g]),0===g.length)continue;g=E(g,encodeURIComponent).join("&"+h+"="),f+=(o?"&":"?")+(h+"="+g),o=!0}}return f},T.prototype.is=function(e,t){return!0},T.prototype.encode=function(e,t){return e},T.prototype.decode=function(e,t){return e},T.prototype.equals=function(e,t){return e==t},T.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},T.prototype.pattern=/.*/,T.prototype.toString=function(){return"{Type:"+this.name+"}"},T.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},T.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function a(e){return s(e)?e:r(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function u(e){return!e}function l(e,t){return function(n){if(s(n)&&0===n.length)return n;n=a(n);var r=E(n,e);return t===!0?0===C(r,u).length:o(r)}}function f(e){return function(t,n){var r=a(t),i=a(n);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],i[o]))return!1;return!0}}this.encode=l(i(e,"encode")),this.decode=l(i(e,"decode")),this.is=l(i(e,"is"),!0),this.equals=f(i(e,"equals")),this.pattern=e.pattern,this.$normalize=l(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",M),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),N.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",N),P.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",P),j.$inject=[],t.module("ui.router.state").provider("$view",j),t.module("ui.router.state").provider("$uiViewScroll",V);var D=t.version.major,_=t.version.minor;R.$inject=["$state","$injector","$uiViewScroll","$interpolate"],q.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",R),t.module("ui.router.state").directive("uiView",q),W.$inject=["$state","$timeout"],G.$inject=["$state","$timeout"],X.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",W).directive("uiSrefActive",X).directive("uiSrefActiveEq",X).directive("uiState",G),
Y.$inject=["$state"],J.$inject=["$state"],t.module("ui.router.state").filter("isState",Y).filter("includedByState",J)}(window,window.angular);